{"version":3,"sources":["webpack://VueWsc/webpack/universalModuleDefinition","webpack://VueWsc/webpack/bootstrap","webpack://VueWsc/./node_modules/@nogard7491/wsc/dist/wsc-2.0.4.min.js","webpack://VueWsc/./lib/Main.js","webpack://VueWsc/./index.js"],"names":["install","Vue","urlOrMultipleConnections","protocols","options","DEFAULT_WSC_ID","Math","random","join","EVENT_TYPES","onOpening","onOpen","onMessage","onClosing","onClose","Wsc","require","default","_root","_wscRepository","_eventsRepository","_fillWscRepository","Object","keys","forEach","key","url","_getWsc","id","mixin","created","$options","wsc","eventId","_uid","on","bind","push","innerKey","beforeDestroy","off","prototype","$wsc","Error","connect","send","data","close","code","reason","VueWsc"],"mappings":"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","file":"vue-wsc-1.0.0.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"VueWsc\"] = factory();\n\telse\n\t\troot[\"VueWsc\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.Wsc=t():e.Wsc=t()}(window,function(){return function(n){var o={};function r(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}return r.m=n,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=0)}([function(e,t,n){\"use strict\";function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}n.r(t);var i=function(){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,n),this._eventType=e,this._handler=t}var e,t,o;return e=n,(t=[{key:\"compareTo\",value:function(e){return e instanceof n&&e.eventType===this._eventType&&e.handler.toString()===this._handler.toString()}},{key:\"eventType\",get:function(){return this._eventType}},{key:\"handler\",get:function(){return this._handler}}])&&r(e.prototype,t),o&&r(e,o),n}();function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var s=function(){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,n),this._id=e,this._value=t}var e,t,o;return e=n,(t=[{key:\"id\",get:function(){return this._id}},{key:\"value\",get:function(){return this._value},set:function(e){this._value=e}}])&&c(e.prototype,t),o&&c(e,o),n}();function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this._elementId=0,this._repository=[]}var t,n,o;return t=e,(n=[{key:\"getById\",value:function(t){var n=null;return this._repository.forEach(function(e){null===n&&e.id===t&&(n=e.value)}),n}},{key:\"getAll\",value:function(){return this._repository.map(function(e){return e.value})}},{key:\"add\",value:function(e){var t=new s(++this._elementId,e);return this._repository.push(t),t.id}},{key:\"deleteById\",value:function(o){var r=!1;return this._repository.forEach(function(e,t,n){e.id===o&&(n.splice(t,1),r=!0)}),r}},{key:\"deleteByIndex\",value:function(e){return void 0!==this._repository[e]&&(this._repository.splice(e,1),!0)}},{key:\"clear\",value:function(){this._repository=[]}},{key:\"length\",get:function(){return this._repository.length}}])&&u(t.prototype,n),o&&u(t,o),e}();function o(e){return(o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,t){return!t||\"object\"!==o(t)&&\"function\"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(e):t}function y(e,t,n){return(y=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),l(this,p(t).call(this))}var n,o,r;return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,a),n=t,(o=[{key:\"add\",value:function(e){return y(p(t.prototype),\"add\",this).call(this,e)}},{key:\"getByEventType\",value:function(t){return this.getAll().filter(function(e){return e.eventType===t})}},{key:\"getByHandler\",value:function(t){return this.getAll().filter(function(e){return e.handler.toString()===t.toString()})}},{key:\"hasByEventType\",value:function(e){return Boolean(this.getByEventType(e).length)}},{key:\"hasByHandler\",value:function(e){return Boolean(this.getByHandler(e).length)}},{key:\"deleteByEventType\",value:function(t){var n=this,o=!1;return this._repository.forEach(function(e){e.value.eventType===t&&n.deleteById(e.id)&&(o=!0)}),o}},{key:\"deleteByHandler\",value:function(t){var n=this,o=!1;return this._repository.forEach(function(e){e.value.handler.toString()===t.toString()&&n.deleteById(e.id)&&(o=!0)}),o}}])&&f(n.prototype,o),r&&f(n,r),t}();function b(e){return(b=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function _(e,t){return!t||\"object\"!==b(t)&&\"function\"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var k=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),_(this,v(t).apply(this,arguments))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,a),t}();function g(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}function m(e){return(m=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function S(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var O=function(){function o(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,o),void 0===e)throw new TypeError(\"Required URL parameter is missing\");if(\"object\"!==m(n))throw new TypeError(\"Options is must be an object\");this._url=e,this._protocols=t,this._options=function(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},t=Object.keys(i);\"function\"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),t.forEach(function(e){var t,n,o;t=r,o=i[n=e],n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o})}return r}({},{useMessageQueue:!0,reconnection:!0,reconnectionOptions:{attempts:1/0,delay:1e3,maxDelay:5e3,increaseDelay:1e3}},n),this._webSocket=void 0,this._binaryType=void 0,this._extensions=void 0,this._protocol=void 0,this._eventHandlerRepository=new d,this._messageRepository=new k,this._reconnectionAttemptAt=Date.now(),this._currentAttempts=0,this._currentReconnectionDelay=this._options.reconnectionOptions.delay}var e,t,n;return e=o,n=[{key:\"_standardEventTypes\",get:function(){return[\"open\",\"message\",\"close\",\"error\"]}},{key:\"_customEventTypes\",get:function(){return[\"opening\",\"closing\",\"ready\"]}}],(t=[{key:\"connect\",value:function(){var o=this;try{this._webSocket=new window.WebSocket(this._url,this._protocols)}catch(e){throw new Error(e.message)}[\"binaryType\",\"extensions\",\"protocol\"].forEach(function(e){void 0!==o[\"_\"+e]&&(o._webSocket[e]=o[e])}),this._executeCustomEvents(\"opening\"),this._addEventsFromStandardQueue(),this._webSocket.addEventListener(\"open\",function(e){o._currentAttempts=0,o._currentReconnectionDelay=o._options.reconnectionOptions.delay,o._sendMessagesFromQueue(),o._executeCustomEvents(\"ready\",e)}),this._options.reconnection&&this._webSocket.addEventListener(\"close\",function(e){if(!e.wasClean&&o._currentAttempts<o._options.reconnectionOptions.attempts){var t=Date.now(),n=o._currentReconnectionDelay-(t-o._reconnectionAttemptAt);n<0?o.reconnect():setTimeout(function(){o.reconnect()},n),o._currentAttempts++,o._currentReconnectionDelay+=o._options.reconnectionOptions.increaseDelay,o._currentReconnectionDelay>o._options.reconnectionOptions.maxDelay&&(o._currentReconnectionDelay=o._options.reconnectionOptions.maxDelay)}})}},{key:\"reconnect\",value:function(){if(!(this._webSocket instanceof window.WebSocket))throw new Error(\"WebSocket instance is not defined\");this._reconnectionAttemptAt=Date.now(),this._webSocket.readyState===window.WebSocket.OPEN&&this._webSocket.close(),this.connect()}},{key:\"send\",value:function(e){this._webSocket instanceof window.WebSocket&&this._webSocket.readyState===window.WebSocket.OPEN?this._webSocket.send(e):this._options.useMessageQueue&&this._messageRepository.add(e)}},{key:\"close\",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1e3,t=1<arguments.length?arguments[1]:void 0;if(!(this._webSocket instanceof window.WebSocket))throw new Error(\"WebSocket instance is not defined\");this._executeCustomEvents(\"closing\"),this._messageRepository.clear(),this._options.reconnection&&(this._currentAttempts=this._options.reconnectionOptions.attempts);try{this._webSocket.close(e,t)}catch(e){throw new Error(e.message)}}},{key:\"on\",value:function(e,t){return-1<g(o._standardEventTypes).concat(g(o._customEventTypes)).indexOf(e)&&this._eventHandlerRepository.add(new i(e,t))}},{key:\"off\",value:function(e){var t=!1;switch(m(e)){case\"number\":t=this._eventHandlerRepository.deleteById(e);break;case\"string\":t=this._eventHandlerRepository.deleteByEventType(e);break;case\"function\":t=this._eventHandlerRepository.deleteByHandler(e)}return t}},{key:\"_addEventsFromStandardQueue\",value:function(){var n=this;o._standardEventTypes.forEach(function(e){n._webSocket.addEventListener(e,function(t){n._eventHandlerRepository.getByEventType(e).forEach(function(e){e.handler.call(n,t)})})})}},{key:\"_executeCustomEvents\",value:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;this._eventHandlerRepository.getByEventType(e).forEach(function(e){e.handler.call(t,n)})}},{key:\"_sendMessagesFromQueue\",value:function(){var n=this;this._messageRepository.getAll().forEach(function(e,t){n._webSocket.readyState===window.WebSocket.OPEN&&(n.send(e),n._messageRepository.deleteByIndex(t))})}},{key:\"binaryType\",get:function(){return this._webSocket instanceof window.WebSocket?this._webSocket.binaryType:void 0!==this._binaryType?m(this._binaryType):\"blob\"},set:function(e){this._binaryType=e,this._webSocket instanceof window.WebSocket&&(this._webSocket.binaryType=e)}},{key:\"bufferedAmount\",get:function(){return this._webSocket instanceof window.WebSocket?this._webSocket.bufferedAmount:0}},{key:\"extensions\",get:function(){return this._webSocket instanceof window.WebSocket?this._webSocket.extensions:void 0!==this._extensions?m(this._extensions):\"\"},set:function(e){this._binaryType=extensions,this._webSocket instanceof window.WebSocket&&(this._webSocket.extensions=e)}},{key:\"protocol\",get:function(){return this._webSocket instanceof window.WebSocket?this._webSocket.protocol:void 0!==this._protocol?m(this._protocol):\"\"},set:function(e){this._protocol=e,this._webSocket instanceof window.WebSocket&&(this._webSocket.extensions=e)}},{key:\"readyState\",get:function(){return this._webSocket instanceof window.WebSocket?this._webSocket.readyState:0}},{key:\"url\",get:function(){return this._webSocket instanceof window.WebSocket?this._webSocket.url:this._url}}])&&S(e.prototype,t),n&&S(e,n),o}();t.default=O}])});","'use strict';\r\n\r\nexport default {\r\n\r\n    /**\r\n     * Устанавливает плагин.\r\n     *\r\n     * @param {Vue} Vue основная библиотека\r\n     * @param {string|Object} urlOrMultipleConnections URL-адрес для соединения или объект с множеством соединений\r\n     * @param {undefined|string|string[]} protocols протоколы\r\n     * @param {{}} options дополнительные опции\r\n     */\r\n    install: function (Vue, urlOrMultipleConnections, protocols, options) {\r\n\r\n        /**\r\n         * Идентификатор объекта для взаимодействия с веб-сокетами по умолчанию.\r\n         *\r\n         * @const {string}\r\n         */\r\n        const DEFAULT_WSC_ID = ['_', Math.random()].join();\r\n\r\n        /**\r\n         * Типы событий.\r\n         *\r\n         * @type {{onOpening: string, onOpen: string, onMessage: string, onClosing: string, onClose: string}}\r\n         */\r\n        const EVENT_TYPES = {\r\n            onOpening: 'opening',\r\n            onOpen: 'open',\r\n            onMessage: 'message',\r\n            onClosing: 'closing',\r\n            onClose: 'close',\r\n        };\r\n\r\n        /**\r\n         * Класс для создания\r\n         *\r\n         * @type {Wsc}\r\n         */\r\n        const Wsc = require('@nogard7491/wsc').default;\r\n\r\n        /**\r\n         * Контекст плагина.\r\n         *\r\n         * @type {default}\r\n         * @private\r\n         */\r\n        const _root = this;\r\n\r\n        /**\r\n         * Хранилище соединений.\r\n         *\r\n         * @type {Object}\r\n         * @private\r\n         */\r\n        const _wscRepository = {};\r\n\r\n        /**\r\n         * Хранилище событий.\r\n         *\r\n         * @type {Object}\r\n         * @private\r\n         */\r\n        const _eventsRepository = {};\r\n\r\n        /**\r\n         * Заполняет хранилище объектов для взаимодействия с веб-сокетами.\r\n         *\r\n         * @param {string|Object} urlOrMultipleConnections URL-адрес для соединения или объект для мульти-подключения\r\n         * @param {undefined|string|string[]} protocols протоколы\r\n         * @param {{}} options дополнительные опции\r\n         */\r\n        this._fillWscRepository = function (urlOrMultipleConnections, protocols, options) {\r\n            switch (typeof urlOrMultipleConnections) {\r\n                case 'string':\r\n                    _wscRepository[DEFAULT_WSC_ID] = new Wsc(\r\n                        urlOrMultipleConnections,\r\n                        protocols,\r\n                        options\r\n                    );\r\n                    break;\r\n                case 'object':\r\n                    Object.keys(urlOrMultipleConnections).forEach(key => {\r\n                        _wscRepository[key] = new Wsc(\r\n                            urlOrMultipleConnections[key].url,\r\n                            urlOrMultipleConnections[key].protocols,\r\n                            urlOrMultipleConnections[key].options\r\n                        );\r\n                    });\r\n                    break;\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Получает объект для взаимодействия с веб-сокетами по идентификатору.\r\n         *\r\n         * @param {string} id идентификатор соединения\r\n         */\r\n        this._getWsc = function (id) {\r\n            return _wscRepository[id] || _wscRepository[DEFAULT_WSC_ID];\r\n        };\r\n\r\n        this._fillWscRepository(urlOrMultipleConnections, protocols, options);\r\n\r\n        Vue.mixin({\r\n\r\n            /**\r\n             * Обработчик события создания экземпляра.\r\n             */\r\n            created: function () {\r\n\r\n                if (this.$options.wsc) {\r\n\r\n                    let wsc;\r\n                    let eventId;\r\n\r\n                    _eventsRepository[this._uid] = {};\r\n                    Object.keys(this.$options.wsc).forEach(key => {\r\n                        switch (typeof this.$options.wsc[key]) {\r\n                            case 'function':\r\n                                if (EVENT_TYPES[key]) {\r\n                                    if (typeof _eventsRepository[this._uid][DEFAULT_WSC_ID] === 'undefined') {\r\n                                        _eventsRepository[this._uid][DEFAULT_WSC_ID] = [];\r\n                                    }\r\n                                    wsc = _root._getWsc(DEFAULT_WSC_ID);\r\n                                    eventId = wsc.on(EVENT_TYPES[key], this.$options.wsc[key].bind(this));\r\n                                    _eventsRepository[this._uid][DEFAULT_WSC_ID].push(eventId);\r\n                                }\r\n                                break;\r\n                            case 'object':\r\n                                wsc = _root._getWsc(key);\r\n                                if (typeof _eventsRepository[this._uid][key] === 'undefined') {\r\n                                    _eventsRepository[this._uid][key] = [];\r\n                                }\r\n                                Object.keys(this.$options.wsc[key]).forEach(innerKey => {\r\n                                    if (EVENT_TYPES[innerKey]) {\r\n                                        eventId = wsc.on(EVENT_TYPES[innerKey], this.$options.wsc[key][innerKey].bind(this));\r\n                                        _eventsRepository[this._uid][key].push(eventId);\r\n                                    }\r\n                                });\r\n                                break;\r\n                        }\r\n                    });\r\n                }\r\n            },\r\n\r\n            /**\r\n             * Обработчик события начала уничтожения экземпляра.\r\n             */\r\n            beforeDestroy() {\r\n\r\n                if (_eventsRepository[this._uid]) {\r\n\r\n                    let wsc;\r\n                    Object.keys(_eventsRepository[this._uid]).forEach(key => {\r\n                        wsc = _root._getWsc(key);\r\n                        _eventsRepository[this._uid][key].forEach(eventId => {\r\n                            wsc.off(eventId);\r\n                        })\r\n                    });\r\n\r\n                    delete _eventsRepository[this._uid];\r\n                }\r\n            }\r\n        });\r\n\r\n        Vue.prototype.$wsc = function (id) {\r\n\r\n            const wsc = _root._getWsc(id);\r\n\r\n            if (typeof wsc === 'undefined') {\r\n                throw new Error('WebSocket instance is not defined');\r\n            }\r\n\r\n            return {\r\n                connect() {\r\n                    wsc.connect();\r\n                },\r\n                send(data) {\r\n                    wsc.send(data);\r\n                },\r\n                close(code = 1000, reason) {\r\n                    wsc.close(code, reason);\r\n                }\r\n            }\r\n        }\r\n    }\r\n};","'use strict';\r\n\r\nimport VueWsc from './lib/Main';\r\n\r\nexport default VueWsc;"],"sourceRoot":""}